# 2ì¥ - ê°ì²´ ìƒì„±ê³¼ íŒŒê´´

# 1. ìƒì„±ì ëŒ€ì‹  ì •ì  íŒ©í„°ë¦¬ ë©”ì†Œë“œë¥¼ ê³ ë ¤í•˜ë¼.

í´ë¼ì´ì–¸íŠ¸ê°€ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì–»ëŠ” ì „í†µì ì¸ ìˆ˜ë‹¨ì€ public ìƒì„±ìì´ë‹¤.

í´ë˜ìŠ¤ëŠ” í´ë¼ì´ì–¸íŠ¸ì— public ìƒì„±ì ëŒ€ì‹  ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œë¥¼ ì œê³µí•  ìˆ˜ ìˆë‹¤.

## Constructorì™€ StaticFactory methodì˜ ë¹„êµ

### â†’ Laptop Class

```java
public class Laptop {
	private String model;
	private String company;
	
	// Constructor
	public Laptop(String modelName, String company) {
		this.modelName = modelName;
		this.company = company;
	}

	// ì´ë¦„ì„ ê°€ì§„ Static Factory Method
	public static Laptop ofModelNameAndCompany(String modelName, String comapny) {
		Laptop laptop = new Laptop();
		laptop.comapny = company;
		laptop.modelName = modelName;
		return laptop;
	}
}
```

### â†’ **Form to Entity Class (API request parameter)**

```java
// request Dto
public class LaptopForm {
	private String name;
	private String corp;
}
@PostMapping(value = "/add")
public LaptopDto addLapTop(@RequestBody LaptopForm laptopForm) {

}
// Laptop Entity
public class Laptop {
	private Long id;
	private String modelName;
	private String company;

	public static Laptop from(LaptopForm laptopForm) {
		Laptop laptop = new Laptop();
		laptop.modelName = laptopForm.getModelName();
		laptop.company = laptopForm.getCompany();
		return laptop;
	}
}
// response Dto
public class LaptopDto {
	private String modelName;
	private String companyName;

	public static LaptopDto from(Laptop laptop) {
		LaptopDto laptopDto = new LaptopDto();
		laptopDto.comapny = laptop.getCompany();
		laptopDto.modelName = laptop.getModelName();
		return laptopDto;
	}
}
```



## ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œì˜ ì¥ë‹¨ì 

> **ì¥ì **

1. ì´ë¦„ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤
   - ìƒì„±ìì— ë„˜ê¸°ëŠ” ë§¤ê°œë³€ìˆ˜ì™€ ìƒì„±ì ìì²´ë§Œìœ¼ë¡œëŠ” ë°˜í™˜ë  ê°ì²´ì˜ íŠ¹ì„±ì„ ì„¤ëª…í•˜ì§€ ëª»í•œë‹¤.
   - ë°˜ëª… ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œëŠ” ì´ë¦„ë§Œ ì˜ ì§€ìœ¼ë©´ ë°˜í™˜ë  ê°ì²´ì˜ íŠ¹ì„±ì„ ì‰½ê²Œ ë¬˜ì‚¬í•  ìˆ˜ ìˆë‹¤.
2. í˜¸ì¶œë  ë•Œë§ˆë‹¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒˆë¡œ ìƒì„±í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.
   - ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë¯¸ë¦¬ ë§Œë“¤ì–´ ë†“ê±°ë‚˜ ìƒˆë¡œ ìƒì„±í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìºì‹±í•˜ì—¬ ì¬í™œìš©í•˜ëŠ” ì‹ìœ¼ë¡œ ë¶ˆí•„ìš”í•œ ê°ì²´ ìƒì„±ì„ í”¼í•  ìˆ˜ ìˆë‹¤.
   - ì–¸ì œ ì–´ëŠ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚´ì•„ìˆê²Œ í• ì§€ë¥¼ ì² ì €íˆ í†µì œí•  ìˆ˜ ìˆë‹¤ â†’ ì¸ìŠ¤í„´ìŠ¤ í†µì œ í´ë˜ìŠ¤
     - ì¸ìŠ¤í„´ìŠ¤ë¥¼ í†µì œí•˜ë©´ í´ë˜ìŠ¤ë¥¼ ì‹±ê¸€í„´ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ë„, ì¸ìŠ¤í„´ìŠ¤í™” ë¶ˆê°€ë¡œ ë§Œë“¤ ìˆ˜ë„ ìˆìŒ
     - ë¶ˆë³€ê°’ í´ë˜ìŠ¤ì—ì„œ ë™ì¹˜ì¸ ì¸ìŠ¤í„´ìŠ¤ê°€ ë‹¨ í•˜ë‚˜ë¿ì„ì„ ë³´ì¥í•  ìˆ˜ ìˆìŒ (a==bì¼ ë•Œë§Œ `a.equals(b)` ê°€ ì„±ë¦½
3. ë°˜í™˜ íƒ€ì…ì˜ í•˜ìœ„ íƒ€ì… ê°ì²´ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ì´ ìˆë‹¤.
   - ë°˜í™˜í•  ê°ì²´ì˜ í´ë˜ìŠ¤ë¥¼ ììœ ë¡­ê²Œ ì„ íƒí•  ìˆ˜ ìˆìŒ
4. **ì…ë ¥ ë§¤ê°œë³€ìˆ˜ì— ë”°ë¼ ë§¤ë²ˆ ë‹¤ë¥¸ í´ë˜ìŠ¤ì˜ ê°ì²´ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤.**
5. **ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œë¥¼ ì‘ì„±í•˜ëŠ” ì‹œì ì—ëŠ” ë°˜í™˜í•  ê°ì²´ì˜ í´ë˜ìŠ¤ê°€ ì¡´ì¬í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.**

> **ë‹¨ì **

1. **ìƒì†ì„ í•˜ë ¤ë©´ publicì´ë‚˜ protected ìƒì„±ìê°€ í•„ìš”í•˜ë‹ˆ ì •ì  íŒ¨ê²‰ë¦¬ ë©”ì„œë“œë§Œ ì œê³µí•˜ë©´ í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ì—†ë‹¤.**
2. **ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œëŠ” í”„ë¡œê·¸ë˜ë¨¸ê°€ ì°¾ê¸° ì–´ë µë‹¤.**



## ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œì— ì‚¬ìš©ë˜ëŠ” ëª…ëª… ë°©ì‹ë“¤

- from : ë§¤ê°œë³€ìˆ˜ë¥¼ í•˜ë‚˜ ë°›ì•„ì„œ í•´ë‹¹ íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•˜ëŠ” í˜•ë³€í™˜ ë©”ì„œë“œ
- of : ì—¬ëŸ¬ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ì•„ ì í•©í•œ íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•˜ëŠ” ì§‘ê³„ ë©”ì„œë“œ
- valueOf : fromê³¼ ofì˜ ë” ìì„¸í•œ ë²„ì „
- instance í˜¹ì€ getrInstance : ë§¤ê°œë³€ìˆ˜ë¡œ ëª…ì‹œí•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•˜ì§€ë§Œ ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ì„ì„ ë³´ì¥í•˜ì§€ëŠ ã„´ì•ŠìŒ
- create í˜¹ì€ newInstance : instance í˜¹ì€ getInstanceì™€ ê°™ì§€ë§Œ, ë§¤ë²ˆ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•´ ë°˜í™˜í•¨ì„ ë³´ì¥
- getType : getInstanceì™€ ê°™ìœ¼ë‚˜, ìƒì„±í•  í´ë˜ìŠ¤ê°€ ì•„ë‹Œ ë‹¤ë¥¸ í´ë˜ìŠ¤ì— íŒ©í„°ë¦¬ ë©”ì„œë“œë¥¼ ì •ì˜í• ë•Œ ì”€
- newType : enwInstanceì™€ ê°™ìœ¼ë‚˜ ìƒì„±í•  í´ë˜ìŠ¤ê°€ ì•„ë‹Œ ë‹¤ë¥¸ í´ë˜ìŠ¤ì— íŒ©í„°ë¦¬ ë©”ì„œë“œë¥¼ ì •ì˜í• ë•Œ ì”€



ğŸ’¡ **DTOâ†’VO, Emtityâ†’DTOë¡œ convert í• ë•Œ ë§ì´ ì‚¬ìš©!**

**ğŸ’¡ ë‹¨ìˆœíˆ ë³€ìˆ˜ë¥¼ ì£¼ì…í•  ë•ŒëŠ” constructorë¥¼ ì‚¬ìš©**



# 2. ë§ì€ parameterê°€ ìˆëŠ” ConstructorëŠ” Builderë¥¼ ê³ ë ¤í•˜ë¼

```java
public class NutritionFacts {
	private final int servingSize; // ml, 1íšŒ ì œê³µëŸ‰ í•„ìˆ˜
	private final int servings; // íšŒ, ì´ níšŒ ì œê³µëŸ‰ í•„ìˆ˜
	private final int calories; // 1íšŒ ì œê³µëŸ‰ë‹¹ (need)
	private final int fat; // g/1íšŒ ì œê³µëŸ‰ (option)
	private final int solium; // mg/1íšŒ ì œê³µëŸ‰ (option)
	private final int carbohydrate; // g/1íšŒ ì œê³µëŸ‰ (option)

}
```

- ì„ íƒì  ë§¤ê°œë³€ìˆ˜ê°€ ë§ì„ë•Œ ëŒ€ì‘ ë°©ë²•
  1. ì—¬ëŸ¬ê°œì˜ Cnstructorë¥¼ ë‘”ë‹¤
  2. Java beans Pattern (Setter)

ì ì¸µì  ìƒì„±ì íŒ¨í„´ë„ ì“¸ ìˆ˜ëŠ” ìˆì§€ë§Œ, ë§¤ê°œë³€ìˆ˜ ê°œìˆ˜ê°€ ë§£ã„´ì•„ì§€ë©´ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê±°ë‚˜ ì½ê¸° ì–´ë ¤ì›Œì§„ë‹¤.



## Builder íŒ¨í„´ì„ ì‚¬ìš©í•˜ì!

```java
public class NutritionFacts {
	private final int servingSize;	// í•„ìˆ˜
	private final int servings;		// í•„ìˆ˜
	private final int calories;		// need

	public static class Builder {
        // í•„ìˆ˜ ìš”ì†Œë“¤
		private final int servingSize;
		private final int servings;
        private int calories = 0;
        
        public Builder(int servingSize, int servings) {
            this.servingSize = servingSize;
            this.servings = servings;
        }
        
        public Builder calories(int val) {
            calories = val;
            return this;
        }
        
        public NutritionFacts build() {
            return new NutritionFacts(this);
        }
        
	}

}
```

â†’ Lombokì„ í†µí•´ Simpleí•˜ê²Œ  ë§Œë“¤ì–´ë³´ì¥

```java
@Data
@Builder(builderMethodName = "hiddenBuilder")
public class NutritionFacts {
    private final int servingSize; // í•„ìˆ˜
    private final int servings;		// í•„ìˆ˜
    @Buidler.Default private final int calories = 0; // need
    @Buidler.Default private final int fat = 0;	 //option
    @Buidler.Default private final int solium = 0; //option
    @Buidler.Default private final int carbohydrate = 0; // option
    
    public static NutritionFactsBuilder builder(int servingSize, int servings) {
        return hiddenBuilder().servingSize(servingSize).servings(servings);
    }
}
```



## ì¥ë‹¨ì 

> **ì¥ì **

- ìƒì†ë°›ì€ Classì˜ Builderê°€ ì •ì˜í•œ builder ë©”ì„œë“œê°€ ìƒì˜ ë©”ì„œë“œì˜ íƒ€ì…ì„ return í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ìì‹ ì˜ íƒ€ì…ì„ return í•œë‹¤

> **ë‹¨ì **

1. Builderë¥¼ í•­ìƒ ë§Œë“¤ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ìƒì„± ë¹„ìš©ì´ ë¬´ì¡°ê±´ ìƒê¸´ë‹¤
2. ì ì¸µì  ìƒì„±ì íŒ¨í„´ë³´ë‹¤ ì¥í™©í•˜ì—¬ ì ì€ ê°¯ìˆ˜ì˜ íŒŒë¼ë¯¸í„°ì¸ ê²½ìš° ì˜¤íˆë ¤ ì¢‹ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.



# 3. private ìƒì„±ìë‚˜ ì—´ê±° íƒ€ì…ìœ¼ë¡œ ì‹±ê¸€í„´ì„ì„ ë³´ì¦í•˜ë¼



## ëŒ€í‘œì  Singleton Pattern

ì‹±ê¸€í„´ì´ë€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì˜¤ì§ í•˜ë‚˜ë§Œ ìƒì„±í•  ìˆ˜ ìˆëŠ” í´ë˜ìŠ¤ë¥¼ ë§í•œë‹¤.

í´ë˜ìŠ¤ë¥¼ ì‹±ê¸€í„´ìœ¼ë¡œ ë§Œë“¤ë©´ ì´ë¥¼ ì‚¬ìš©í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸°ê°€ ì–´ë ¤ì›Œì§ˆ ìˆ˜ ìˆë‹¤.

```java
public class Elvis {
    public static final Speaker INSTANCE = new Elvis();
    private Elvis(){}
}
```

- private ìƒì„±ìëŠ” public static final í•„ë“œì¸` Elvis.INSTANCE`ë¥¼ ì´ˆê¸°í™” í•  ë•Œ ë”± í•œ ë²ˆë§Œ í˜¸ì¶œë¨
- publicì´ë‚˜ proteted ìƒì„±ìê°€ ì—†ìœ¼ë¯€ë¡œ í´ë˜ìŠ¤ê°€ ì´ˆê¸°í™”ë  ë•Œ ë§Œë“¤ì–´ì§„ ì¸ìŠ¤í„´ìŠ¤ê°€ ì „ì²´ ì‹œìŠ¤í…œì—ì„œ í•˜ë‚˜ë¿ì„ì„ ë³´ì¥

- ì¥ì  : í•´ë‹¹ í´ë˜ìŠ¤ê°€ ì‹±ê¸€í…€ì„ì´ APIì— ëª…ë°±íˆ ë“œëŸ¬ë‚¨, ê°„ê²°í•¨



> ìƒí™©ì— ë”°ë¼ synchronizedë‚˜ lazyí•˜ê²Œ instanceë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ë„ ìˆë‹¤.

```java
public class Speaker {
    private static Speaker instance;
    private Speaker(){}
    public static synchronized Speaker getInstance() {
        // ê¸°íƒ€ ë‹¤ë¥¸ ì‚¬í•­ ì²´í¬
        if (instance == null) {
            instance = new Speaker();
        }
        return instance;
    }
}
```



## ì •ì  íŒ©í„°ë¦¬ ë°©ì‹ì˜ ì‹±ê¸€í„´

```java
public class Elvis {
   private static final Elvis INSTANCE = new Elvis();
    private Elvis() {...}
    public static Elvis getInstance() {return INSTANCE;}
}
```

- `Elvis.getInstance` ëŠ” ê°™ì€ ê°ì²´ì˜ ì°¸ì¡°ë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ ì „ì²´ ì‹œìŠ¤í…œì—ì„œ í•˜ë‚˜ë¿ì„ì„ ë³´ì¥í•œë‹¤
- ì¥ì  
  1. APIë¥¼ ë°”ê¾¸ì§€ ì•Šê³ ë„ ì‹±ê¸€í„´ì´ ì•„ë‹ˆê²Œ ë³€ê²½í•  ìˆ˜ ìˆìŒ. 
  2. ì •ì  íŒ©í„°ë¦¬ë¥¼ ì œë„¤ë¦­ ì‹±ê¸€í„´ íŒ©í„°ë¦¬ë¡œ ë§Œë“¤ ìˆ˜ ìˆìŒ.
  3. ì •ì  íŒ©í„°ë¦¬ì˜ ë©”ì„œë“œ ì°¸ì¡°ë¥¼ ê³µê¸‰ìë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ



## ì—´ê±° íƒ€ì…ì˜ ì‹±ê¸€í„´

```java
public enum Elvis {
    INSTANCE;
}
```

- ê°„ê²°í•˜ê³ , ì¶”ê°€ ë…¸ë ¥ì—†ì´ ì§ë ¬í™” í•  ìˆ˜ ìˆìŒ

- ë‹¨ì 
  1. enumì˜ ì˜ë„ì— ë²—ì–´ë‚œë‹¤
  2. í´ë˜ìŠ¤ ìƒì† ë¶ˆê°€

```java
public enum Speaker {
	INSTANCE;
    private String message;
    public Speaker getInstance() {
        return INSTANCE;
    }
    public void setMessage(String message) {
        this.message = message;
    }
    public String getMessage() {
        return message;
    }
}
```





> Singleton patternì— ëŒ€í•´ ìˆ™ì§€í•´ë‘ì
>
> ê° ë°©ë²•ì˜ ì°¨ì´ì ì— ëŒ€í•´ ì¸ì§€í•´ ë‘ê³  ì´ë¥¼ ìƒí™©ì— ë§ê²Œ ì„ íƒí•´ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ì.



# 4. ì¸ìŠ¤í„´ìŠ¤í™”ë¥¼ ë§‰ìœ¼ë ¤ê±°ë“  private ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ë¼

ë‹¨ìˆœíˆ ì •ì  ë©”ì„œë“œì™€ ì •ì  í•„ë“œë§Œì„ ë‹´ì€ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³  ì‹¶ì„ ë•Œ, ì¸ìŠ¤í„´ìŠ¤í™”ë¥¼ ë§‰ì -> private ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ì

```java
public class PatternUtil {
    private static final String PATTERN = "\\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}\\b";
    
    private PatternUtil(){}
    
    public static boolean isEmailValid(String email) {
        return email.matches(PATTERN);
    }
    
    public String getPattern() {
        return PATTERN;
    }
}
```

ğŸ‘‰ ì—¬ëŸ¬ íŒ¨í„´ì„ ì²´í¬í•˜ëŠ”ê²Œ ëª©í‘œ, instance ìƒì„±ì— ì˜ì˜ë£° ë‘ì§€ ì•ŠìŒ

ğŸ‘‰ ì´ê±° ë§Œë“  ì‚¬ëŒì´ í‡´ì‚¬í•¨..

ğŸ‘‰ B ê°œë°œìê°€ íŒ¨í„´ ìì²´ê°€ í•„ìš”í•´ì§€ëŠ” ìƒí™©ì´ ë²Œì—¬ì§

ğŸ‘‰ publicìœ¼ë¡œ getPattern ë©”ì†Œë“œë¥¼ ë§Œë“ ë‹¤..

> ì¼ë°˜ì ìœ¼ë¡œ Util classì²˜ëŸ¼ Instanceí™”ë¥¼ í•˜ì§€ ì•Šì„ ê±°ë¼ê³  ëª¨ë‘ê°€ ì´ë¯¸ ì•Œê³  ìˆëŠ” ê²½ìš°ëŠ” ìƒëµí•˜ê¸°ë„ í•¨



# 5. ìì›ì„ ì§ì ‘ ëª…ì‹œí•˜ì§€ ë§ê³  ì˜ì¡´ ê°ì²´ ì£¼ì…ì„ ì‚¬ìš©í•˜ë¼

## @Configuration

- ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•´ ì£¼ì…

```java
@Target(ElementType.TYPE)
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Component
public @interface Configration {
    ...
}
```

```java
@Configuration
public class ZeroBaseConfig {
    private static final String address = "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬";
    private static final zipCode;
    public ZeroBaseConfig() {
        this.address = "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬";
    }
}
```

- @Configurationì€ @Componentë¥¼ í¬í•¨í•˜ê³  ìˆê³ , @Componentê°€ Singletonì´ê¸° ë•Œë¬¸ì— @Configuration ë˜í•œ Singleton
- í•˜ì§€ë§Œ ì´ëŠ”.. ì—¬ëŸ¬ ìì›ì„ í™œìš©í•´ì•¼ í•  ê²½ìš° ì í•©í•˜ì§€ ì•ŠìŒ.
  - í™˜ê²½ë³„ë¡œ ë‹¤ë¥¸ ê°’ì´ ë“¤ì–´ê°€ì•¼ í• ë•Œ ì ì ˆí•˜ì§€ ì•Šë‹¤



## Property Injection

- í´ë˜ìŠ¤ ì™¸ë¶€ì˜ ì„¤ì •ì— ì˜í•´ ì£¼ì…ì„ ë°›ëŠ” í˜•íƒœ

application.ymlì— ë“±ë¡ëœ ì •ë³´

```yml
zerobase:
	address: 'ì„œìš¸ì‹œ ê°•ë‚¨êµ¬'
```

```java
@Configuration
public class ZeroBaseConfig {
    @Value("${zerobase.addres}")
    private String address;
}
```



## Constructor Injection

ì‚¬ìš©í•˜ëŠ” ìì›ì— ë”°ë¼ ë™ì‘ì´ ë‹¬ë¦¬ì§€ëŠ” í´ë˜ìŠ¤ì—ëŠ” ì •ì  ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ë‚˜ ì‹±ê¸€í„´ ë°©ì‹ì´ ì í•©í•˜ì§€ ì•Šë‹¤.

ëŒ€ì‹  í´ë˜ìŠ¤ê°€ ì—¬ëŸ¬ ìì› ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì§€ì›í•´ì•¼ í•˜ë©°, í´ë¼ì´ì–¸íŠ¸ê°€ ì›í•˜ëŠ” ìì›ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

ğŸ‘‰ **ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ ìƒì„±ìì— í•„ìš”í•œ ìì›ì„ ë„˜ê²¨ì£¼ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•˜ì!**

```java
public class PhonePatternChecker {
	private final String pattern;
    
	public PhonePatternChecker(String pattern) {
        this.pattern = pattern;
    }
    
    public boolean isValid(String phone) {...}
}
```



> Config Classë¥¼ ìƒê°ì—†ì´ ì‚¬ìš©í•˜ê³  ìˆì§€ëŠ” ì•Šì•˜ëŠ”ì§€
>
> Singletonì„ ì´í•´í•˜ê³  ìˆëŠ”ì§€
>
> Dependency Injectionì„ ì˜ ì´í•´í•˜ê³  ìˆëŠ”ì§€



# 6. ë¶ˆí•„ìš”í•œ ê°ì²´ ìƒì„±ì„ í”¼í•˜ë¼

## Boxing type, Primitive Type?

ìë°”ì˜ ìë£Œí˜•ì€ primitive type(ê¸°ë³¸í˜•) ê³¼ reference type(ì°¸ì¡°í˜•) ìœ¼ë¡œ ë‚˜ë‰œë‹¤.

ê¸°ë³¸ìë£Œí˜•ì€ ê°ì²´ íƒ€ì…ì´ ì•„ë‹ˆë©° ì‹¤ì œ ê°’ì„ ë‹´ê³  ìˆê³  nullì„ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤

ì°¸ì¡°í˜•ì€ ê°ì²´ íƒ€ì…ì„ ë ê³  ìˆìœ¼ë©° ê°’ì„ ë°”ë¡œ ë‹´ê³  ìˆì§€ ì•Šê³  ê°’ì„ ë‹´ê³  ìˆëŠ” ê°ì²´ì˜ ì£¼ì†Œê°’ì„ ë‹´ê³  ìˆë‹¤.

- wrapper class : ê¸°ë³¸í˜•ì„ ê°ì²´ í˜•íƒœë¡œ ê°ì‹¸ê³  ìˆëŠ” í´ë˜ìŠ¤. 

  ![img](https://media.vlpt.us/images/kekim20/post/dde7a5b8-0709-4357-8075-aef7bf4722d1/image.png)

> primitive type -> reference type : `boxing`



## Boxing type ëŒ€ì‹  Primitive Typeì„ ê¶Œì¥

- **Boxing type**

```java
public static long sum() {
    Long sum = 0L; // ë§¤ë²ˆ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±
    for (long i = 0; i<=Integer.MAX_VALUE; i++) {
        sum += i;
    }
    return sum;
}
```

- **Primitive Type**

```java
public static long sum() {
    long sum = 0L;
    for (long i = 0; i<=Integer.MAX_VALUE; i++) {
        sum += i;
    }
    return sum;
}
```

- Boxing typeë³´ë‹¤ Primitive Typeì´ ì•½ 10ë°° ì •ë„ ë¹ ë¥¸ ì‹¤í—˜ ê²°ê³¼ë¥¼ ë‚˜íƒ€ëƒ„
- Boxing typeì„ ë‚¨ìš©í•˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•˜ëŠ” ê²ƒ ë¿ë§Œ ì•„ë‹ˆë¼, ì˜ë„ì¹˜ ì•Šì€ Auto Boxingì„ ì¡°ì‹¬



## Util Classì—ì„œ ë˜í•œ primitive typeì„ ê¶Œì¥

```java
public class PhonePatternUtil {
    private final String pattern;
    public boolean isValid(String phone) {
        ...
    }
}
```



## í•­ìƒ primitive typeì´ ì˜³ì€ ê²ƒì€ ì•„ë‹˜

- Null case

  - ë¬¼ê±´ì˜ ê°€ê²©ì´ë¼ê³  ìƒê°

    `int price;`

    `Integer price;`

    - priceê°€ 0ì¸ ê²ƒê³¼ nullì¸ ê²ƒì˜ ì˜ë¯¸ëŠ” ë‹¤ë¦„
    - 0ì˜ ì˜ë¯¸ëŠ” ì¦ì •í’ˆ ë“±ì˜ ì‚¬ìœ ë¡œ 0ì›ì¼ ìˆ˜ ìˆê³ , Nullì˜ ê²½ìš° ì•„ì§ ì •í•´ì§€ì§€ ì•Šì•˜ë‹¤ ìƒê°ë  ìˆ˜ ìˆìŒ

    

ìƒì„±ì ëŒ€ì‹  ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œë¥¼ ì œê³µí•˜ëŠ” ë¶ˆë³€ í´ë˜ìŠ¤ì—ì„œëŠ” ì •ì  íŒ©í„°ë¦¬ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ ë¶ˆí•„ìš”í•œ ê°ì²´ ìƒì„±ì„ í”¼í•  ìˆ˜ ìˆë‹¤.

**`Boolean(String) `**ëŒ€ì‹  **`Boolean.valueOf(String)`** íŒ©í„°ë¦¬ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ

```java
static boolean isRomanNumeral(String s) {
    return s.matches("^(?=..)M*(C[MD]|D?C{0,3})") + "(X[CL]|L?X{0,3})(I[XV]|V?I{0,3})$";
}
```

- **`String.matches`** ëŠ” ì •ê·œ í‘œí˜„ì‹ìœ¼ë¡œ ë¬¸ìì—´ í˜•íƒœë¥¼ í™•ì¸í•˜ëŠ” ê°€ì¥ ì‰¬ìš´ ë°©ë²•ì´ì§€ë§Œ, ì„±ëŠ¥ì´ ì¤‘ìš”í•œ ìƒí™©ì—ì„œ ë°˜ë³µí•´ ì‚¬ìš©í•˜ê¸°ì—” ì í•©í•˜ì§€ ì•ŠìŒ
  - ì´ ë©”ì„œë“œê°€ ë‚´ë¶€ì—ì„œ ë§Œë“œëŠ” Parttern ì¸ìŠ¤í„´ìŠ¤ëŠ” í•œ ë²ˆ ì“°ê³  ë²„ë ¤ì ¸ì„œ ê³§ë°”ë¡œ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ ëŒ€ìƒì´ ë¨

-  ì„±ëŠ¥ ê°œì„ ì„ ìœ„í•´ì„  í•„ìš”í•œ ì •ê·œí‘œí˜„ì‹ì„ í‘œí˜„í•˜ëŠ” ë¶ˆë³€ì¸ Pattern ì¸ìŠ¤í„´ìŠ¤ë¥¼ í´ë˜ìŠ¤ ì´ˆê¸°í™” ê³¼ì •ì—ì„œ ì§ì ‘ ìƒì„±í•´ ìºì‹±í•´ë‘ê³  ë‚˜ì¤‘ì— isRomanNumeral ë©”ì„œë“œê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ ì´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¬ì‚¬ìš©

```java
public class RomanNumerals {
    private static final Pattern ROMAN = Pattern.compile("^(?=..)M*(C[MD]|D?C{0,3})") + "(X[CL]|L?X{0,3})(I[XV]|V?I{0,3})$";);
    
    static boolean isRomanNumeral(String s) {
        return ROMAN.matcher(s).matches();
    }
    
}
```



> ë¬´ì‹¬ê²°ì— Instanceë¥¼ ê³¼ë„í•˜ê²Œ ìƒì„±í•˜ì§€ëŠ” ì•Šì•˜ëŠ”ì§€
>
> Primitive Typeê³¼ Boxing Typeì„ ì˜ë„í•˜ê³  ì‚¬ìš©í•˜ì˜€ëŠ”ì§€



# 7. ë‹¤ ì“´ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ë¼

ìë°”ì—ì„œëŠ” ë‹¤ ì“´ ê°ì²´ë¥¼ ì•Œì•„ì„œ íšŒìˆ˜í•´ê°€ëŠ” GCê°€ ì¡´ì¬í•˜ì§€ë§Œ ë©”ëª¨ë¦¬ ê´€ë¦¬ê°€ ì•„ì˜ˆ ë¶ˆí•„ìš”í•œ ê²ƒì€ ì•„ë‹ˆë‹¤.

ê°ì²´ ì°¸ì¡° í•˜ë‚˜ë¥¼ ì‚´ë ¤ë‘ë©´ ê°€ë¹„ì§€ ì»¬ë ‰í„°ëŠ” ê·¸ ê°ì²´ë¿ ì•„ë‹ˆë¼ ê·¸ ê°ì²´ê°€ ì°¸ì¡°í•˜ëŠ” ëª¨ë“  ê°ì²´ë¥¼ íšŒìˆ˜í•´ê°€ì§€ ëª»í•œë‹¤.

ğŸ‘‰ í•´ë‹¹ ì°¸ì¡°ë¥¼ ë‹¤ ì¼ì„ë•Œ null ì²˜ë¦¬(ì°¸ì¡° í•´ì œ)ë¥¼ í•˜ì!

ğŸ‘‰ í•˜ì§€ë§Œ ì´ëŠ” ì˜ˆì™¸ì ì¸ ê²½ìš°ì—¬ì•¼ í•¨...

ğŸ‘‰ ë‹¤ ì“´ ì°¸ì¡°ë¥¼ í•´ì œí•˜ëŠ” ê°€ì¥ ì¢‹ì€ ë°©ë²•ì€ ê·¸ ì°¸ì¡°ë¥¼ ë‹´ì€ ë³€ìˆ˜ë¥¼ ìœ íš¨ ë²”ìœ„(scope) ë°–ìœ¼ë¡œ ë°€ì–´ë‚´ëŠ” ê²ƒì´ë‹¤

## Arrayë¥¼ ê·¹ë‹¨ì ìœ¼ë¡œ ë‚­ë¹„í•œ ì˜ˆì œ

![image](https://user-images.githubusercontent.com/58503875/154997975-39c53705-af84-4385-8786-9847901f6ad5.png)

- sizeë¥¼ ì„ ì–¸í–ˆê¸° ë•Œë¬¸ì— size ë³€ìˆ˜ë¥¼ ë³„ë„ë¡œ ê°€ì§€ê³  ìˆìŒ
- sizeë¥¼ ì¤„ì¸ë‹¤ í•´ë„... size ë³€ìˆ˜ì˜ ê°’ì´ ì¤„ì–´ë“¦. ì‹¤ì œë¡œ ë°°ì—´ì„ ì¡°ì ˆí•˜ëŠ”ê²Œ ì•„ë‹˜ ->ì°¸ì¡°ê°€ ê·¸ëŒ€ë¡œì´ê¸° ë•Œë¬¸ì— Object ë˜í•œ ì‚´ì•„ìˆë‹¤



## ì°¸ì¡°ë¥¼ í•´ì œí•˜ëŠ” ë²•

ìœ íš¨ Scope ë°–ìœ¼ë¡œ ë„˜ì–´ê°€ë©´ ìë™ìœ¼ë¡œ GCì˜ ëŒ€ìƒì´ ëœë‹¤.

![image](https://user-images.githubusercontent.com/58503875/154997367-8fd89e73-8f1e-476f-8806-e300c6a6b1fa.png)

> Arrayë¥¼ ì˜ ì“°ê³  ìˆëŠ”ì§€
>
> ë©”ëª¨ë¦¬ êµ¬ì¡°ì— ëŒ€í•´ ì´í•´í•˜ê³  ìˆëŠ”ì§€ (Heap, Stack, Method area)
>
> Gabage Collectiorê°€ ë™ì‘í•˜ëŠ” ì›ë¦¬ì— ëŒ€í•´ ì´í•´í•˜ê³  ìˆëŠ”ì§€
>
> JVM



# 8. finalizerì™€ cleaner ì‚¬ìš©ì„ í”¼í•˜ë¼





# 9. try-finally ë³´ë‹¤ëŠ” try-with-resourcesë¥¼ ì‚¬ìš©í•˜ë¼

